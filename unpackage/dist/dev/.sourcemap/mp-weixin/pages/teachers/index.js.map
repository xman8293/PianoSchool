{"version":3,"file":"index.js","sources":["pages/teachers/index.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVhY2hlcnMvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- 创始人专区 -->\r\n    <view class=\"founder-section card\">\r\n      <view class=\"section-title\">\r\n        <text class=\"title-text\">创始团队</text>\r\n        <text class=\"title-en\">FOUNDERS</text>\r\n      </view>\r\n      <view class=\"founder-list\">\r\n        <view \r\n          class=\"founder-grid\"\r\n          v-for=\"founder in founderList\" \r\n          :key=\"founder.id\"\r\n        >\r\n          <view class=\"founder-image-wrapper\">\r\n            <image \r\n              :src=\"founder.avatar\" \r\n              class=\"founder-image\" \r\n              mode=\"aspectFill\"\r\n              style=\"border-radius: 12rpx\"\r\n              @tap=\"showImage(founder.avatar)\"\r\n            />\r\n          </view>\r\n          <view class=\"founder-info\">\r\n            <view class=\"founder-header\">\r\n              <text class=\"founder-name\">{{founder.name}}</text>\r\n              <view class=\"founder-position-tag\">{{founder.position}}</view>\r\n            </view>\r\n            <view class=\"divider\"></view>\r\n            <text class=\"founder-brief\">{{founder.brief}}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 教师列表 -->\r\n    <view class=\"teacher-section card\">\r\n      <view class=\"section-title\">\r\n        <text class=\"title-text\">教师团队</text>\r\n        <text class=\"title-en\">TEACHERS</text>\r\n      </view>\r\n      <view class=\"teachers-grid\">\r\n        <view \r\n          class=\"teacher-card\" \r\n          v-for=\"teacher in teacherList\" \r\n          :key=\"teacher._id\"\r\n        >\r\n          <view class=\"teacher-image-wrapper\" @tap=\"showImage(teacher.avatar)\">\r\n            <image \r\n              :src=\"teacher.avatar\" \r\n              class=\"teacher-image\" \r\n              mode=\"aspectFit\"\r\n              style=\"border-radius: 16rpx\"\r\n            />\r\n          </view>\r\n          <view class=\"teacher-info\">\r\n            <view class=\"name-wrapper\">\r\n              <text class=\"teacher-name\">{{teacher.name}}</text>\r\n              <view class=\"teacher-subject-tag\">{{teacher.subject}}</view>\r\n            </view>\r\n            <text class=\"teacher-brief\">{{teacher.brief}}</text>\r\n            <view class=\"teacher-expertise\">\r\n              <text v-for=\"(tag, index) in teacher.tags\" :key=\"index\" class=\"tag\">\r\n                #{{tag}}\r\n              </text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view v-if=\"loading\" class=\"loading-text\">加载中...</view>\r\n    </view>\r\n\r\n    <!-- 图片预览弹窗 -->\r\n    <uni-popup ref=\"imagePopup\" type=\"center\" :is-mask-click=\"true\" :mask-click=\"false\" v-if=\"previewImage\">\r\n      <view class=\"image-preview\" @tap=\"hideImage\">\r\n        <image \r\n          :src=\"previewImage\" \r\n          mode=\"widthFix\" \r\n          class=\"preview-image\"\r\n          @tap.stop=\"\"\r\n        />\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, getCurrentInstance } from 'vue'\r\n\r\n// 创始人数据（固定）\r\nconst founderList = ref([\r\n  {\r\n    id: 1,\r\n    name: '李东霖',\r\n    position: '校长',\r\n    brief: '毕业院校：首都师范大学，20年教学经验',\r\n    avatar: 'https://scrmconnect-1251489075.cos.ap-beijing.myqcloud.com/wxapp/piano/teacher/donglin.jpg'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '李昭霖',\r\n    position: '古筝教研组组长',\r\n    brief: '毕业院校：中央音乐学院',\r\n    avatar: 'https://scrmconnect-1251489075.cos.ap-beijing.myqcloud.com/wxapp/piano/teacher/zhaolin.png'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '邓丽娟',\r\n    position: '钢琴·声乐教研组组长',\r\n    brief: '山西大同大学音乐系教授,35年教学经验',\r\n    avatar: 'https://scrmconnect-1251489075.cos.ap-beijing.myqcloud.com/wxapp/piano/teacher/deng.jpg'\r\n  }\r\n])\r\n\r\n// 教师数据（动态）\r\nconst teacherList = ref([])\r\nconst loading = ref(true)\r\n\r\nconst { proxy } = getCurrentInstance()\r\nconst imagePopup = ref(null)\r\nconst previewImage = ref(null)\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const res = await uniCloud.callFunction({\r\n      name: 'getTeachers',\r\n      data: { page: 1, pageSize: 10 }\r\n    })\r\n    teacherList.value = res.result.data\r\n  } catch (e) {\r\n    console.error('获取教师数据失败:', e)\r\n    uni.showToast({ title: '数据加载失败', icon: 'none' })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n})\r\n\r\nconst showImage = (url) => {\r\n  previewImage.value = url\r\n  if (proxy.$refs.imagePopup) {\r\n    proxy.$refs.imagePopup.open()\r\n  }\r\n}\r\n\r\nconst hideImage = () => {\r\n  if (proxy.$refs.imagePopup) {\r\n    proxy.$refs.imagePopup.close()\r\n  }\r\n  previewImage.value = null\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 统一背景色 */\r\n.container {\r\n  background-color: #f5f7fa;\r\n  min-height: 100vh;\r\n  padding: 20rpx 0;\r\n}\r\n\r\n.section-title {\r\n  padding: 30rpx 40rpx;\r\n  background: linear-gradient(to right, #2A3F54, #1A2B3C);\r\n  margin-bottom: 30rpx;\r\n  border-radius: 16rpx 16rpx 0 0;\r\n}\r\n\r\n.title-text {\r\n  display: block;\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: #D4AF37;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.title-en {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: rgba(255,255,255,0.8);\r\n  letter-spacing: 2rpx;\r\n}\r\n\r\n/* 创始人样式 */\r\n.founder-section {\r\n  border: 4rpx solid #D4AF37;\r\n  background: #fff;\r\n  margin: 30rpx;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n\r\n.founder-section::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -20rpx;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 120rpx;\r\n  height: 40rpx;\r\n  background: #D4AF37;\r\n  border-radius: 20rpx;\r\n}\r\n\r\n.founder-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 30rpx;\r\n  padding: 0 30rpx;\r\n}\r\n\r\n.founder-grid {\r\n  background: #fff;\r\n  border-radius: 28rpx;\r\n  overflow: hidden;\r\n  padding: 15rpx;\r\n  box-shadow: 0 10rpx 30rpx rgba(42, 63, 84, 0.08);\r\n  position: relative;\r\n}\r\n\r\n.founder-image-wrapper {\r\n  width: 100%;\r\n  height: 420rpx;\r\n  padding: 15rpx;\r\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\r\n  border-radius: 16rpx;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.founder-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 20rpx;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.founder-info {\r\n  padding: 20rpx 25rpx;\r\n  background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(245,247,250,0.5));\r\n  border-radius: 0 0 20rpx 20rpx;\r\n}\r\n\r\n.founder-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n  flex-wrap: wrap;\r\n  gap: 15rpx;\r\n}\r\n\r\n.founder-name {\r\n  font-size: 44rpx;\r\n  color: #2A3F54;\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n}\r\n\r\n.founder-position-tag {\r\n  background: rgba(212,175,55,0.1);\r\n  color: #D4AF37;\r\n  font-size: 28rpx;\r\n  padding: 8rpx 20rpx;\r\n  border-radius: 8rpx;\r\n  white-space: nowrap;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.divider {\r\n  height: 1px;\r\n  background: rgba(42,63,84,0.1);\r\n  margin: 20rpx 0;\r\n}\r\n\r\n.founder-brief {\r\n  font-size: 30rpx;\r\n  color: rgba(42,63,84,0.8);\r\n  line-height: 1.8;\r\n  margin-top: 15rpx;\r\n}\r\n\r\n/* 教师列表样式 */\r\n.teacher-section {\r\n  background: #fff;\r\n  margin: 0 30rpx 30rpx;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 8rpx 30rpx rgba(42,63,84,0.1);\r\n}\r\n\r\n.teachers-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 30rpx;\r\n  padding: 20rpx;\r\n}\r\n\r\n.teacher-card {\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 8rpx 24rpx rgba(42,63,84,0.08);\r\n  margin-bottom: 20rpx;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.teacher-card:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.teacher-image-wrapper {\r\n  width: 100%;\r\n  height: 360rpx;\r\n  padding: 15rpx;\r\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\r\n  border-radius: 24rpx 24rpx 0 0;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.teacher-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 20rpx 20rpx 0 0;\r\n  object-position: center center;\r\n  width: 95%;\r\n  height: 95%;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.teacher-info {\r\n  padding: 20rpx;\r\n  background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(245,247,250,0.5));\r\n  border-radius: 0 0 20rpx 20rpx;\r\n}\r\n\r\n.name-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15rpx;\r\n}\r\n\r\n.teacher-name {\r\n  font-size: 36rpx;\r\n  color: #2A3F54;\r\n  font-weight: 600;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.teacher-subject-tag {\r\n  background: #f0f2f5;\r\n  color: #666;\r\n  font-size: 26rpx;\r\n  padding: 8rpx 20rpx;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n.teacher-brief {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.5;\r\n  margin-bottom: 20rpx;\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 3;\r\n  overflow: hidden;\r\n}\r\n\r\n.teacher-expertise {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15rpx;\r\n}\r\n\r\n.tag {\r\n  background: #2A3F54;\r\n  color: #fff;\r\n  font-size: 22rpx;\r\n  padding: 6rpx 16rpx;\r\n  border-radius: 30rpx;\r\n  line-height: 1.4;\r\n}\r\n\r\n.loading-text {\r\n  text-align: center;\r\n  padding: 20rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 图片预览样式 */\r\n.image-preview {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.9);\r\n  z-index: 9999;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.preview-image {\r\n  max-width: 90vw;\r\n  max-height: 80vh;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n/* 添加卡片悬停效果 */\r\n.founder-grid:hover .founder-image,\r\n.teacher-card:hover .teacher-image {\r\n  transform: scale(1.02);\r\n}\r\n</style> ","import MiniProgramPage from 'E:/MyProject/PianoSchool/pages/teachers/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getCurrentInstance","onMounted","uniCloud","uni"],"mappings":";;;;;;;;;AA0FA,UAAM,cAAcA,cAAAA,IAAI;AAAA,MACtB;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,MACT;AAAA,IACH,CAAC;AAGD,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,UAAUA,cAAG,IAAC,IAAI;AAExB,UAAM,EAAE,MAAO,IAAGC,iCAAoB;AACtC,UAAM,aAAaD,cAAG,IAAC,IAAI;AAC3B,UAAM,eAAeA,cAAG,IAAC,IAAI;AAE7BE,kBAAAA,UAAU,YAAY;AACpB,UAAI;AACF,cAAM,MAAM,MAAMC,cAAQ,GAAC,aAAa;AAAA,UACtC,MAAM;AAAA,UACN,MAAM,EAAE,MAAM,GAAG,UAAU,GAAI;AAAA,QACrC,CAAK;AACD,oBAAY,QAAQ,IAAI,OAAO;AAAA,MAChC,SAAQ,GAAG;AACVC,sBAAAA,wDAAc,aAAa,CAAC;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAAA,MACnD,UAAY;AACR,gBAAQ,QAAQ;AAAA,MACjB;AAAA,IACH,CAAC;AAED,UAAM,YAAY,CAAC,QAAQ;AACzB,mBAAa,QAAQ;AACrB,UAAI,MAAM,MAAM,YAAY;AAC1B,cAAM,MAAM,WAAW,KAAM;AAAA,MAC9B;AAAA,IACH;AAEA,UAAM,YAAY,MAAM;AACtB,UAAI,MAAM,MAAM,YAAY;AAC1B,cAAM,MAAM,WAAW,MAAO;AAAA,MAC/B;AACD,mBAAa,QAAQ;AAAA,IACvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJA,GAAG,WAAW,eAAe;"}